        if (_until == 0 || (_until != 0 && _until > now)) {
        finish_date = (curr_date < ico_phase_5_end ? ico_phase_5_end : curr_date).add(SECONDS_IN_DAY * 10);
        if (curr_date >= ico_phase_5_end || token.balanceOf(base_wallet) == 0)
        if (curr_date < presale_start)
        if (curr_date <= presale_end)
        if (curr_date < ico_start)
        if (curr_date < ico_phase_1_end)
        if (curr_date < ico_phase_2_end)
        if (curr_date < ico_phase_3_end)
        if (curr_date < ico_phase_4_end)
            if (curr_date >= finish_date)
