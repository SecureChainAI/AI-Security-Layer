        require(_isOnSale(sale));
        require(onSale.isActive == false);
        require(_sale.duration >= 1 minutes);
        if (now > _sale.startedAt) {
        if (_secondsPassed >= _duration) {
        require(_price >= currentPrice);
        return (_sale.startedAt > 0 && _sale.isActive);
